<div class="container mt-4">
  <a class="btn btn-light mb-3" (click)="closeViewReport()" *ngIf="selectedReport">
    <i class="bi bi-arrow-left" *ngIf="selectedReport"></i> Вернуться к списку отчетов
  </a>
  <app-view-report [report]="selectedReport" (reportConfirmed)="closeViewReport()"
    *ngIf="selectedReport"></app-view-report>

  <table class="table table-bordered" *ngIf="!selectedReport">
    <thead>
      <tr>
        <th>Номер отчета</th>
        <th>Дата отчета</th>
        <th>Агент</th>
        <th>Респондент</th>
        <th>Статус</th>
        <th>Действия</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let report of reports">
        <td>{{ report.id }}</td>
        <td>{{ report.reportDate | date }}</td>
        <td>{{ report.agentName }}</td>
        <td>{{ report.respondentName }}</td>
        <td>
          <span class="status-circle"
            [ngClass]="{'confirmed': report.isConfirmed, 'not-confirmed': !report.isConfirmed}"></span>
        </td>
        <td>
          <button *ngIf="!report.isConfirmed" class="btn btn-secondary btn-sm btn-edit"
            (click)="editReport(report)">
            <i class="bi bi-pencil"></i> <!-- Иконка редактирования -->
          </button>
          <button *ngIf="report.isConfirmed" class="btn btn-secondary btn-sm btn-view" (click)="viewReport(report)">
            <i class="bi bi-eye"></i> <!-- Иконка просмотра -->
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>