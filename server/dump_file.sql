--
-- PostgreSQL database dump
--

-- Dumped from database version 16.3 (Debian 16.3-1.pgdg120+1)
-- Dumped by pg_dump version 16.3 (Homebrew)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: Agents; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Agents" (
    "Id" integer NOT NULL,
    "AgentName" text,
    "PasswordHash" bytea,
    "PasswordSalt" bytea,
    "RegistrationDate" timestamp with time zone NOT NULL,
    "City" text,
    "BranchId" integer NOT NULL,
    "Role" text
);


ALTER TABLE public."Agents" OWNER TO postgres;

--
-- Name: Agents_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Agents" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Agents_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Branches; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Branches" (
    "Id" integer NOT NULL,
    "Name" text
);


ALTER TABLE public."Branches" OWNER TO postgres;

--
-- Name: Branches_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Branches" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Branches_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Procedures; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Procedures" (
    "Id" integer NOT NULL,
    "Name" text,
    "StandardTime" integer NOT NULL
);


ALTER TABLE public."Procedures" OWNER TO postgres;

--
-- Name: Procedures_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Procedures" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Procedures_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ReportEntries; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."ReportEntries" (
    "Id" integer NOT NULL,
    "StartTime" timestamp with time zone NOT NULL,
    "EndTime" timestamp with time zone NOT NULL,
    "Comment" text,
    "ReportId" integer NOT NULL,
    "AgentId" integer NOT NULL,
    "RespondentId" integer NOT NULL,
    "ProcedureId" integer NOT NULL,
    "IsConfirmed" boolean DEFAULT false NOT NULL
);


ALTER TABLE public."ReportEntries" OWNER TO postgres;

--
-- Name: ReportEntries_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."ReportEntries" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."ReportEntries_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Reports; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Reports" (
    "Id" integer NOT NULL,
    "AgentId" integer NOT NULL,
    "RespondentId" integer NOT NULL,
    "ReportDate" timestamp with time zone NOT NULL,
    "IsConfirmed" boolean DEFAULT false NOT NULL
);


ALTER TABLE public."Reports" OWNER TO postgres;

--
-- Name: Reports_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Reports" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Reports_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Respondents; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Respondents" (
    "Id" integer NOT NULL,
    "Name" text,
    "RegistrationDate" timestamp with time zone NOT NULL,
    "City" text,
    "BranchId" integer NOT NULL,
    "Role" text
);


ALTER TABLE public."Respondents" OWNER TO postgres;

--
-- Name: Respondents_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Respondents" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Respondents_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO postgres;

--
-- Data for Name: Agents; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Agents" ("Id", "AgentName", "PasswordHash", "PasswordSalt", "RegistrationDate", "City", "BranchId", "Role") FROM stdin;
8	bob	\\xc3312199c3429d1d55f506d25ee7ee181a32c623ee74e225222ed1043454422c0247dda0d4fe7dcba7d0a2a6b379792f7aa87b9ee23088861c38a4ea38cabd95	\\x0858283a7367ab3e6fd6680885d886d085b3df78b4c5fb26867f08cde284a65ec3182646239cdc3bca4fb82d9ac80c6d7b0679505a3f1f963f40c2e40bff5eabd2149b9b74338289347adc2309fa705334678594965bb32e4e99e19b335e12d4026e176972726edd928bcb4861aad8bdc1717a71fd83a9ce40e39f4f4a31da48	2024-07-03 14:25:33.428114+00	Москва	1	\N
9	roman	\\xe6d1f33ebacf51b5afe31dfa82fd5d3b917893e373bf1f5aa42bbf4cef2d46312df4418fe6a6170550ec6c6657e27df3ca436cabadba05c445f8ad157e49a113	\\x229d25eb5d682d4df934f45f39cdeb760fcc29fa0c03296bda6643265f47ff92eb2b14a474d3050b5c782fc18c4ae0dfd6b18129296ce7378d852378d48d4b4424db4ed1a9ba0fbc4ac3bc4943486bd959f8521b1a3e69f0f2c92934423253b52e2a701e3dfb8de74bce476e2d25ed09b67d0c67f2225502f7eb26e59cc00644	2024-07-03 14:25:50.367197+00	Санкт-Петербург	1	\N
10	alex	\\xfb42057d3b96fc890e91453d3a2719023c07f4a5baa5a301c8934d0b347675556cb76263640de92905f35f5071c96d8776b2d14c88c3339a104081783cf8bd6b	\\x6ed217e5e2bb4de065d7b7812b9ab9ea93dc3cd3b764baa45c6ec41ebc64edb05970d0bef7d2cb6a8a627d4b62d5fb741341740d075172a4f36e8044b227f69881bd005741f0ab9f6a34052c574a616b842f3b9f9d0dcf23ffe27609b77576fa03cea76b769025971ff97038988d10265fc4d100f83bfd4009918594bd75d637	2024-07-03 14:30:07.002489+00	Ярославль	3	\N
11	alex	\\x6f634d0b62cbfad34539a40201f35c82acc3d6b0a934cc4a4762b1d0f4f1079cc431a86f821ad8622549460a399b130d693b964bd8dd952979b3d9a8aa035654	\\x2ad991fbb32ce1af58793f4c393b63336199da4e9d1b047e0a2aa793a9154e6051ffb3c85253dff05452fe85771dd991f78290b5e735d1fa73fdde60aa1621291b2c5b2d316a307b7b420c254d281f276776a124f7d02f4697f2d986c0e2adffc9c5db48b165674a7bbbc6c4e1f4e72b8e39dc3439295a1eb34312cb55e1612c	2024-07-03 14:30:07.002483+00	Ярославль	3	\N
\.


--
-- Data for Name: Branches; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Branches" ("Id", "Name") FROM stdin;
1	Октябрьский
2	Московский
3	Северный
4	Горьковский
5	Западно-Сибирский
6	Дальневосточный
\.


--
-- Data for Name: Procedures; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Procedures" ("Id", "Name", "StandardTime") FROM stdin;
0	Создание заказа	10
1	Создание накладной	10
\.


--
-- Data for Name: ReportEntries; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."ReportEntries" ("Id", "StartTime", "EndTime", "Comment", "ReportId", "AgentId", "RespondentId", "ProcedureId", "IsConfirmed") FROM stdin;
2	2023-07-01 10:00:00+00	2023-07-01 11:00:00+00	Some comment	1	9	1	0	f
3	2023-07-01 13:00:00+00	2023-07-01 14:00:00+00	Some comment	1	9	1	1	f
4	2023-07-07 13:00:00+00	2023-07-07 14:00:00+00	Some comment	1	9	1	1	f
5	2023-07-07 17:00:00+00	2023-07-07 18:00:00+00	Some comment	1	9	1	1	f
6	2024-07-07 17:18:00+00	2024-07-07 17:20:00+00	test 9	25	9	2	1	f
7	2024-07-07 17:31:00+00	2024-07-07 18:40:00+00	test 11	26	9	2	1	f
8	2024-07-07 17:20:00+00	2024-07-07 17:30:00+00	test 10	26	9	2	0	f
9	2024-07-07 17:52:00+00	2024-07-07 17:53:00+00	test 10	28	9	1	0	f
10	2024-07-07 17:53:00+00	2024-07-07 17:54:00+00	test 11	28	9	1	1	f
\.


--
-- Data for Name: Reports; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Reports" ("Id", "AgentId", "RespondentId", "ReportDate", "IsConfirmed") FROM stdin;
2	9	1	2024-07-05 06:02:13.345791+00	f
3	9	1	2024-07-07 09:57:52.883909+00	f
4	9	1	2024-07-07 10:40:07.139651+00	f
5	9	1	2024-07-07 10:55:53.739809+00	f
6	9	1	2024-07-07 11:06:54.232661+00	f
7	9	1	2024-07-07 11:06:54.232623+00	f
8	9	2	2024-07-07 11:09:26.795686+00	f
10	9	2	2024-07-07 11:15:55.648442+00	f
11	9	2	2024-07-07 11:15:55.648482+00	f
12	9	2	2024-07-07 11:23:04.281355+00	f
13	9	2	2024-07-07 11:23:04.302236+00	f
14	9	3	2024-07-07 11:30:38.556409+00	f
15	9	3	2024-07-07 11:30:38.556434+00	f
17	9	2	2024-07-07 13:39:50.068481+00	f
16	9	2	2024-07-07 13:39:50.068517+00	f
18	9	2	2024-07-07 14:00:31.136963+00	f
19	9	2	2024-07-07 14:00:31.136914+00	f
20	9	3	2024-07-07 14:03:37.972007+00	f
21	9	3	2024-07-07 14:03:37.972023+00	f
22	9	3	2024-07-07 14:15:14.273379+00	f
23	9	3	2024-07-07 14:15:14.273284+00	f
24	9	2	2024-07-07 14:18:02.530341+00	f
25	9	2	2024-07-07 14:18:02.530302+00	f
26	9	2	2024-07-07 14:20:21.81868+00	f
27	9	2	2024-07-07 14:20:21.818394+00	f
28	9	1	2024-07-07 14:53:33.615144+00	f
29	9	3	2024-07-07 17:04:29.917618+00	f
1	9	1	2024-07-04 11:22:14.327693+00	t
9	9	2	2024-07-07 11:09:26.79567+00	t
\.


--
-- Data for Name: Respondents; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Respondents" ("Id", "Name", "RegistrationDate", "City", "BranchId", "Role") FROM stdin;
1	Петров Иван Иванович	2024-07-04 09:03:59.718671+00	Москва	1	\N
2	Новикова Татьяна Анатольевна	2024-07-04 09:16:28.513095+00	Москва	1	\N
3	Ольга	2024-07-05 07:18:05.780334+00	Москва	1	
\.


--
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20240617144644_InitialCreate	8.0.6
20240621130905_UserEntityUpdated	8.0.6
20240627105634_InitialCreate	8.0.6
20240627111912_InitialCreate	8.0.6
20240627114531_InitialCreate	8.0.6
20240627121505_InitialCreate	8.0.6
20240703134530_InitialCreate	8.0.6
20240703135836_InitialCreate	8.0.6
20240704084521_ReportEntriesAdded	8.0.6
20240707170302_AddIsConfirmedToReportEntry	8.0.6
\.


--
-- Name: Agents_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Agents_Id_seq"', 11, true);


--
-- Name: Branches_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Branches_Id_seq"', 6, true);


--
-- Name: Procedures_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Procedures_Id_seq"', 1, true);


--
-- Name: ReportEntries_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."ReportEntries_Id_seq"', 10, true);


--
-- Name: Reports_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Reports_Id_seq"', 29, true);


--
-- Name: Respondents_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Respondents_Id_seq"', 3, true);


--
-- Name: Agents PK_Agents; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Agents"
    ADD CONSTRAINT "PK_Agents" PRIMARY KEY ("Id");


--
-- Name: Branches PK_Branches; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Branches"
    ADD CONSTRAINT "PK_Branches" PRIMARY KEY ("Id");


--
-- Name: Procedures PK_Procedures; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Procedures"
    ADD CONSTRAINT "PK_Procedures" PRIMARY KEY ("Id");


--
-- Name: ReportEntries PK_ReportEntries; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ReportEntries"
    ADD CONSTRAINT "PK_ReportEntries" PRIMARY KEY ("Id");


--
-- Name: Reports PK_Reports; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Reports"
    ADD CONSTRAINT "PK_Reports" PRIMARY KEY ("Id");


--
-- Name: Respondents PK_Respondents; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Respondents"
    ADD CONSTRAINT "PK_Respondents" PRIMARY KEY ("Id");


--
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- Name: IX_Agents_BranchId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Agents_BranchId" ON public."Agents" USING btree ("BranchId");


--
-- Name: IX_ReportEntries_AgentId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_ReportEntries_AgentId" ON public."ReportEntries" USING btree ("AgentId");


--
-- Name: IX_ReportEntries_ProcedureId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_ReportEntries_ProcedureId" ON public."ReportEntries" USING btree ("ProcedureId");


--
-- Name: IX_ReportEntries_ReportId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_ReportEntries_ReportId" ON public."ReportEntries" USING btree ("ReportId");


--
-- Name: IX_ReportEntries_RespondentId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_ReportEntries_RespondentId" ON public."ReportEntries" USING btree ("RespondentId");


--
-- Name: IX_Reports_AgentId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Reports_AgentId" ON public."Reports" USING btree ("AgentId");


--
-- Name: IX_Reports_RespondentId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Reports_RespondentId" ON public."Reports" USING btree ("RespondentId");


--
-- Name: IX_Respondents_BranchId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Respondents_BranchId" ON public."Respondents" USING btree ("BranchId");


--
-- Name: Agents FK_Agents_Branches_BranchId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Agents"
    ADD CONSTRAINT "FK_Agents_Branches_BranchId" FOREIGN KEY ("BranchId") REFERENCES public."Branches"("Id") ON DELETE CASCADE;


--
-- Name: ReportEntries FK_ReportEntries_Agents_AgentId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ReportEntries"
    ADD CONSTRAINT "FK_ReportEntries_Agents_AgentId" FOREIGN KEY ("AgentId") REFERENCES public."Agents"("Id") ON DELETE CASCADE;


--
-- Name: ReportEntries FK_ReportEntries_Procedures_ProcedureId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ReportEntries"
    ADD CONSTRAINT "FK_ReportEntries_Procedures_ProcedureId" FOREIGN KEY ("ProcedureId") REFERENCES public."Procedures"("Id") ON DELETE CASCADE;


--
-- Name: ReportEntries FK_ReportEntries_Reports_ReportId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ReportEntries"
    ADD CONSTRAINT "FK_ReportEntries_Reports_ReportId" FOREIGN KEY ("ReportId") REFERENCES public."Reports"("Id") ON DELETE CASCADE;


--
-- Name: ReportEntries FK_ReportEntries_Respondents_RespondentId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ReportEntries"
    ADD CONSTRAINT "FK_ReportEntries_Respondents_RespondentId" FOREIGN KEY ("RespondentId") REFERENCES public."Respondents"("Id") ON DELETE CASCADE;


--
-- Name: Reports FK_Reports_Agents_AgentId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Reports"
    ADD CONSTRAINT "FK_Reports_Agents_AgentId" FOREIGN KEY ("AgentId") REFERENCES public."Agents"("Id") ON DELETE CASCADE;


--
-- Name: Reports FK_Reports_Respondents_RespondentId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Reports"
    ADD CONSTRAINT "FK_Reports_Respondents_RespondentId" FOREIGN KEY ("RespondentId") REFERENCES public."Respondents"("Id") ON DELETE CASCADE;


--
-- Name: Respondents FK_Respondents_Branches_BranchId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Respondents"
    ADD CONSTRAINT "FK_Respondents_Branches_BranchId" FOREIGN KEY ("BranchId") REFERENCES public."Branches"("Id") ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

